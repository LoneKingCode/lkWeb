@using lkWeb.Areas.Admin.Models
@using System.Text;
@using System.Text.Encodings.Web;
@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout_Content.cshtml";
    ViewBag.Title = "查看详情";
}
@model ViewListModel

@section Styles{
    <style type="text/css">
        .table > tbody > tr > td {
            border: none;
        }
    </style>
}


@section Scripts{
    <script type="text/javascript">
        $(function () {

        })

    </script>
}
<form class="form-horizontal" method="post" id="lkForm">
    @Html.AntiForgeryToken()
    <table class="table">
        <tbody>
            @{
                string tpl = "<div class=\"form-group\"><div class=\"\">" +
        "<label class=\"col-md-2 control-label\">{0}:</label>" +
        "<div class=\"col-md-9\">" +
        "<label class=\"control-label\">{1}</label>" +
        "</div> " +
        "</div></div>";
                StringBuilder sb = new StringBuilder();
                var numPerRow = Model.Table.ColumnPerRow < 1 ? 1 : Model.Table.ColumnPerRow;
                var count = 0;
                sb.Append("<tr>");
                foreach (var column in Model.TableColumn)
                {
                    count++;
                    sb.Append($"<td style='width: {Math.Round(100.0 / numPerRow, 2)}%;'>");
                    if (column.DataType == lkWeb.Service.Enum.ColumnDataType.Out)
                    {
                        sb.Append(string.Format(tpl, column.Description, ViewBag.OutColumn[column.Name]));
                    }
                    else
                    {
                        sb.Append(string.Format(tpl, column.Description, ViewBag.ColumnValue[column.Name]));
                    }
                    sb.Append("</td>");
                    if (count % numPerRow == 0)
                    {
                        sb.Append("</tr>");
                        sb.Append("<tr>");
                    }
                }
                sb.Append("</tr>");
                @Html.Raw(sb.ToString());
            }


        </tbody>
        <tfoot>
            <tr>
                <td colspan="99">

                    <div class="form-group">
                        <div class="col-md-3 col-md-offset-3">
                            <button type="button" class="btn btn-danger" onclick="lkWeb.Close()">关闭</button>
                        </div>
                    </div>
                </td>
            </tr>
        </tfoot>
    </table>

</form>
